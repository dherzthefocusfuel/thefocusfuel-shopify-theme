{%- unless section.settings.title == blank -%}
  <h2 class="title {{ section.settings.heading_size }}">
    {{ section.settings.title }}
  </h2>
{%- endunless -%}

{%- assign yes_svg = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3.85001 8.61998C3.70405 7.9625 3.72646 7.27882 3.91517 6.63231C4.10387 5.98581 4.45276 5.39742 4.92948 4.9217C5.4062 4.44597 5.99532 4.09832 6.64222 3.91097C7.28911 3.72362 7.97284 3.70264 8.63001 3.84998C8.99172 3.28428 9.49001 2.81873 10.079 2.49626C10.6679 2.17379 11.3286 2.00476 12 2.00476C12.6715 2.00476 13.3321 2.17379 13.9211 2.49626C14.51 2.81873 15.0083 3.28428 15.37 3.84998C16.0282 3.702 16.7131 3.72288 17.361 3.91069C18.0089 4.09849 18.5988 4.44712 19.0759 4.92413C19.5529 5.40114 19.9015 5.99105 20.0893 6.63898C20.2771 7.28691 20.298 7.97181 20.15 8.62998C20.7157 8.99168 21.1812 9.48998 21.5037 10.0789C21.8262 10.6679 21.9952 11.3285 21.9952 12C21.9952 12.6714 21.8262 13.3321 21.5037 13.921C21.1812 14.51 20.7157 15.0083 20.15 15.37C20.2973 16.0271 20.2764 16.7109 20.089 17.3578C19.9017 18.0047 19.554 18.5938 19.0783 19.0705C18.6026 19.5472 18.0142 19.8961 17.3677 20.0848C16.7212 20.2735 16.0375 20.2959 15.38 20.15C15.0188 20.7178 14.5201 21.1854 13.9301 21.5093C13.3402 21.8332 12.678 22.003 12.005 22.003C11.332 22.003 10.6698 21.8332 10.0799 21.5093C9.48993 21.1854 8.99125 20.7178 8.63001 20.15C7.97284 20.2973 7.28911 20.2763 6.64222 20.089C5.99532 19.9016 5.4062 19.554 4.92948 19.0783C4.45276 18.6025 4.10387 18.0141 3.91517 17.3676C3.72646 16.7211 3.70405 16.0374 3.85001 15.38C3.27997 15.0192 2.81042 14.5201 2.48506 13.9292C2.15969 13.3382 1.98907 12.6746 1.98907 12C1.98907 11.3254 2.15969 10.6617 2.48506 10.0708C2.81042 9.4798 3.27997 8.98073 3.85001 8.61998Z" fill="#B8E0B8" stroke="#004737" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M9 12L11 14L15 10" stroke="#004737" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    ' -%}
{%- assign no_svg = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3.85001 8.61998C3.70405 7.9625 3.72646 7.27882 3.91517 6.63231C4.10387 5.98581 4.45276 5.39742 4.92948 4.9217C5.4062 4.44597 5.99532 4.09832 6.64222 3.91097C7.28911 3.72362 7.97284 3.70264 8.63001 3.84998C8.99172 3.28428 9.49001 2.81873 10.079 2.49626C10.6679 2.17379 11.3286 2.00476 12 2.00476C12.6715 2.00476 13.3321 2.17379 13.9211 2.49626C14.51 2.81873 15.0083 3.28428 15.37 3.84998C16.0282 3.702 16.7131 3.72288 17.361 3.91069C18.0089 4.09849 18.5988 4.44712 19.0759 4.92413C19.5529 5.40114 19.9015 5.99105 20.0893 6.63898C20.2771 7.28691 20.298 7.97181 20.15 8.62998C20.7157 8.99168 21.1812 9.48998 21.5037 10.0789C21.8262 10.6679 21.9952 11.3285 21.9952 12C21.9952 12.6714 21.8262 13.3321 21.5037 13.921C21.1812 14.51 20.7157 15.0083 20.15 15.37C20.2973 16.0271 20.2764 16.7109 20.089 17.3578C19.9017 18.0047 19.554 18.5938 19.0783 19.0705C18.6026 19.5472 18.0142 19.8961 17.3677 20.0848C16.7212 20.2735 16.0375 20.2959 15.38 20.15C15.0188 20.7178 14.5201 21.1854 13.9301 21.5093C13.3402 21.8332 12.678 22.003 12.005 22.003C11.332 22.003 10.6698 21.8332 10.0799 21.5093C9.48993 21.1854 8.99125 20.7178 8.63001 20.15C7.97284 20.2973 7.28911 20.2763 6.64222 20.089C5.99532 19.9016 5.4062 19.554 4.92948 19.0783C4.45276 18.6025 4.10387 18.0141 3.91517 17.3676C3.72646 16.7211 3.70405 16.0374 3.85001 15.38C3.27997 15.0192 2.81042 14.5201 2.48506 13.9292C2.15969 13.3382 1.98907 12.6746 1.98907 12C1.98907 11.3254 2.15969 10.6617 2.48506 10.0708C2.81042 9.4798 3.27997 8.98073 3.85001 8.61998Z" fill="#E0B8C2" stroke="#7D002E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15 9L9 15" stroke="#7D002E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M9 9L15 15" stroke="#7D002E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    ' -%}

<table class="vs-table slide">
  <thead>
    <tr>
      <th></th>
      <th>
        {% if section.settings['comparison-1-image'] != blank %}
          <img
            src="{{ section.settings.comparison-1-image | image_url }}"
            alt="{{ section.settings.comparison-1-title }}"
            width="44"
            height="30"
            loading="eager"
          >
        {% else %}
          {{ section.settings['comparison-1-title'] }}
        {% endif %}
      </th>
      <th>{{ section.settings['comparison-2-title'] }}</th>
      <th>{{ section.settings['comparison-3-title'] }}</th>
    </tr>
  </thead>
  <tbody>
    {% for block in section.blocks %}
      <tr>
        <td>{{ block.settings.name }}</td>
        <td>
          {% if block.settings['comparison-1'] == 'yes' %}
            {% if section.settings['yes-image'] != blank %}
              <img src="{{ section.settings.yes-image | image_url }}" alt="yes" width="24" height="24" loading="eager">
            {% else %}
              {{ yes_svg }}
            {% endif %}
          {% else %}
            {% if section.settings['no-image'] != blank %}
              <img src="{{ section.settings.no-image | image_url }}" alt="no" width="24" height="24" loading="eager">
            {% else %}
              {{ no_svg }}
            {% endif %}
          {% endif %}
        </td>
        <td>
          {% if block.settings['comparison-2'] == 'yes' %}
            {% if section.settings['yes-image'] != blank %}
              <img src="{{ section.settings.yes-image | image_url }}" alt="yes" width="24" height="24" loading="eager">
            {% else %}
              {{ yes_svg }}
            {% endif %}
          {% else %}
            {% if section.settings['no-image'] != blank %}
              <img src="{{ section.settings.no-image | image_url }}" alt="no" width="24" height="24" loading="eager">
            {% else %}
              {{ no_svg }}
            {% endif %}
          {% endif %}
        </td>
        <td>
          {% if block.settings['comparison-3'] == 'yes' %}
            {% if section.settings['yes-image'] != blank %}
              <img src="{{ section.settings.yes-image | image_url }}" alt="yes" width="24" height="24" loading="eager">
            {% else %}
              {{ yes_svg }}
            {% endif %}
          {% else %}
            {% if section.settings['no-image'] != blank %}
              <img src="{{ section.settings.no-image | image_url }}" alt="no" width="24" height="24" loading="eager">
            {% else %}
              {{ no_svg }}
            {% endif %}
          {% endif %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% schema %}
{
  "name": "Comparison table",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "inline_richtext",
      "id": "title",
      "default": "Simply the best",
      "label": "Title"
    },
    { "type": "image_picker", "id": "comparison-1-image", "label": "Column 1 header image" },
    { "type": "image_picker", "id": "yes-image", "label": "Yes icon" },
    { "type": "image_picker", "id": "no-image", "label": "No icon" },
    { "type": "text", "id": "comparison-1-title", "default": "FocusFuel", "label": "Column 1 header title" },
    { "type": "text", "id": "comparison-2-title", "default": "Coffee", "label": "Column 2 header title" },
    { "type": "text", "id": "comparison-3-title", "default": "Energy Drinks", "label": "Column 3 header title" }
  ],
  "blocks": [
    {
      "type": "eval",
      "name": "Comparison row",
      "settings": [
        {
          "type": "text",
          "id": "name",
          "default": "Name",
          "label": "Name"
        },
        {
          "type": "select",
          "id": "comparison-1",
          "label": "Column 1 comparison",
          "options": [
            {
              "value": "yes",
              "label": "Yes"
            },
            {
              "value": "no",
              "label": "No"
            }
          ],
          "default": "yes"
        },
        {
          "type": "select",
          "id": "comparison-2",
          "label": "Column 2 comparison",
          "options": [
            {
              "value": "yes",
              "label": "Yes"
            },
            {
              "value": "no",
              "label": "No"
            }
          ],
          "default": "no"
        },
        {
          "type": "select",
          "id": "comparison-3",
          "label": "Column 3 comparison",
          "options": [
            {
              "value": "yes",
              "label": "Yes"
            },
            {
              "value": "no",
              "label": "No"
            }
          ],
          "default": "no"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Comparison table",
      "blocks": [
        {
          "type": "eval"
        },
        {
          "type": "eval"
        },
        {
          "type": "eval"
        }
      ]
    }
  ]
}
{% endschema %}
